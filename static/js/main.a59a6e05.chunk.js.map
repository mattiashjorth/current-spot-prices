{"version":3,"sources":["components/spotPriceList.js","components/useWindowSize.js","components/spotPriceGraph.js","components/spotPricesContainer.js","components/app.js","index.js"],"names":["SpotPriceList","data","className","TableContainer","component","Paper","Table","sx","minWidth","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","row","border","timeStampDay","timeStampHour","value","unit","timeStamp","useWindowSize","useState","width","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","SpotPriceGraph","currentHour","React","maxY","setMaxY","currentIndex","setCurrentIndex","CustomizedLineLabel","props","x","y","index","dy","dx","fill","fontWeight","fontSize","textAnchor","toFixed","CustomizedXAxisTick","payload","transform","CustomizedYAxisTick","dataMax","Math","max","floor","calculateMaxY","findIndex","timeStampShort","CustomTooltip","active","label","length","style","background","color","padding","borderRadius","opacity","ResponsiveContainer","LineChart","margin","top","right","left","bottom","Line","type","dataKey","stroke","activeDot","strokeWidth","r","dot","CartesianGrid","horizontal","vertical","XAxis","tick","ticks","filter","array","YAxis","domain","Array","keys","shift","getTicksY","ReferenceLine","Tooltip","cursor","offset","content","SpotPricesContainer","dataPresentation","error","setError","isLoaded","setIsLoaded","spotPricesData","setSpotPricesData","spotPricesGraphData","setSpotPricesGraphData","refreshInterval","setRefreshInterval","setCurrentHour","area","match","params","priceArea","toUpperCase","getCurrentHour","currentDateString","Date","toLocaleString","substring","timeStampFull","replace","day","hour","includes","getDataFromApi","axios","getApiUrl","method","headers","then","res","result","mappedData","slice","TimeStamp","TimeStampDay","TimeStampHour","Value","Unit","mappedGraphData","round","setData","fromDateString","getTimestampToLoadDataFrom","split","fromDate","setDate","getDate","interval","setInterval","clearInterval","message","path","App","basename","process","exact","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a59a6e05.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@mui/material\";\r\n\r\nexport default function SpotPriceList({ data }) {\r\n  return (\r\n    <div className=\"spotprice-list\">\r\n      <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 400 }} size=\"small\" aria-label=\"Spotpriser\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"right\">Datum</TableCell>\r\n              <TableCell align=\"right\">Klockslag</TableCell>\r\n              <TableCell align=\"right\">Spotpris</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.map((row) => (\r\n              <TableRow key={row.timeStamp} sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}>\r\n                <TableCell align=\"right\">{row.timeStampDay}</TableCell>\r\n                <TableCell align=\"right\">{row.timeStampHour}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  {row.value} {row.unit}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    window.addEventListener(\"deviceorientation\", handleResize);\r\n    handleResize();\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      window.removeEventListener(\"deviceorientation\", handleResize);\r\n    };\r\n  }, []);\r\n  return windowSize;\r\n}\r\n\r\nexport default useWindowSize;\r\n","import React from \"react\";\r\nimport { ResponsiveContainer, LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, ReferenceLine } from \"recharts\";\r\nimport useWindowSize from \"./useWindowSize\";\r\n\r\nexport default function SpotPriceGraph({ data, currentHour }) {\r\n  const [maxY, setMaxY] = React.useState(0);\r\n  const [currentIndex, setCurrentIndex] = React.useState();\r\n  const unit = \"kr/kWh\";\r\n  const windowSize = useWindowSize();\r\n\r\n  React.useEffect(() => {\r\n    function calculateMaxY() {\r\n      const dataMax = Math.max(...data.map((y) => y.value), 0);\r\n      return Math.floor(dataMax) + 1;\r\n    }\r\n    setMaxY(calculateMaxY());\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    setCurrentIndex(data.findIndex((x) => x.timeStamp === currentHour.timeStampShort));\r\n  }, [currentHour.timeStampShort, data]);\r\n\r\n  function getTicksX() {\r\n    const ticks = data.map((x) => x.timeStamp).filter((value, index, array) => index % 6 === 0 && index !== 0);\r\n    return ticks;\r\n  }\r\n\r\n  function getTicksY() {\r\n    const ticks = [...Array(maxY + 1).keys()];\r\n    ticks.shift();\r\n    return ticks;\r\n  }\r\n\r\n  function CustomizedLineLabel(props) {\r\n    const { x, y, value, index } = props;\r\n    if (index === currentIndex) {\r\n      return (\r\n        <text x={x} y={y} dy={-30} dx={11} fill=\"#bbb\" fontWeight=\"bold\" fontSize={16} textAnchor=\"middle\">\r\n          {value.toFixed(2)} {unit}\r\n        </text>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function CustomizedXAxisTick(props) {\r\n    const { x, y, payload } = props;\r\n\r\n    return (\r\n      <g transform={`translate(${x},${y})`}>\r\n        <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#bbb\" transform=\"rotate(-35)\">\r\n          {payload.value}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n\r\n  function CustomizedYAxisTick(props) {\r\n    const { x, y, payload } = props;\r\n\r\n    return (\r\n      <g transform={`translate(${x},${y})`}>\r\n        <text x={0} y={0} dy={0} textAnchor=\"end\" fill=\"#bbb\" transform=\"rotate(-35)\">\r\n          {payload.value} {unit}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n\r\n  const CustomTooltip = ({ active, payload, label }) => {\r\n    if (active && payload && payload.length) {\r\n      return (\r\n        <div\r\n          style={{\r\n            background: \"#3887ba\",\r\n            color: \"#2e4355\",\r\n            padding: \"1px 15px\",\r\n            border: \"solid\",\r\n            borderRadius: \"15px\",\r\n            fontWeight: \"bold\",\r\n            opacity: \"0.8\",\r\n          }}\r\n        >\r\n          <p>{label}</p>\r\n          <p>\r\n            {payload[0].value.toFixed(2)} {unit}\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={windowSize.height - 100}>\r\n      <LineChart\r\n        data={data}\r\n        margin={{\r\n          top: 20,\r\n          right: 50,\r\n          left: 20,\r\n          bottom: 70,\r\n        }}\r\n      >\r\n        <Line\r\n          type=\"monotone\"\r\n          dataKey=\"value\"\r\n          stroke=\"#3887ba\"\r\n          label={<CustomizedLineLabel />}\r\n          activeDot={{ fill: \"#2e4355\", stroke: \"#3887ba\", strokeWidth: 4, r: 9 }}\r\n          dot=\"\"\r\n          strokeWidth=\"4\"\r\n        />\r\n        <CartesianGrid horizontal=\"\" vertical=\"\" stroke=\"#243240\" />\r\n        <XAxis dataKey=\"timeStamp\" tick={<CustomizedXAxisTick />} ticks={getTicksX()} />\r\n        <YAxis domain={[0, maxY]} tick={<CustomizedYAxisTick />} ticks={getTicksY()} />\r\n        <ReferenceLine x={currentHour?.timeStampShort} stroke=\"orange\" strokeWidth=\"1\" />\r\n        <Tooltip cursor={false} offset={-100} content={<CustomTooltip />} />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SpotPriceList from \"./spotPriceList\";\r\nimport SpotPriceGraph from \"./spotPriceGraph\";\r\nimport axios from \"axios\";\r\n\r\nexport default function SpotPricesContainer(props) {\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [spotPricesData, setSpotPricesData] = useState([]);\r\n  const [spotPricesGraphData, setSpotPricesGraphData] = useState([]);\r\n  const [refreshInterval, setRefreshInterval] = useState(15 * 60 * 1000);\r\n  const [currentHour, setCurrentHour] = useState();\r\n  const area = props.match.params.priceArea.toUpperCase();\r\n\r\n  useEffect(() => {\r\n    const validPriceAreas = [\"SN1\", \"SN2\", \"SN3\", \"SN4\"];\r\n\r\n    if (!validPriceAreas.includes(area.toUpperCase())) {\r\n      setIsLoaded(true);\r\n      setError(\"Not supported price area\");\r\n      return;\r\n    }\r\n\r\n    const getDataFromApi = () => {\r\n      axios(getApiUrl(), {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((res) => res.data)\r\n        .then(\r\n          (result) => {\r\n            setIsLoaded(true);\r\n            setError(null);\r\n            setData(result);\r\n            setRefreshInterval(15 * 60 * 1000);\r\n          },\r\n          (error) => {\r\n            setIsLoaded(true);\r\n            setError(error);\r\n            setRefreshInterval(15 * 1000);\r\n          }\r\n        );\r\n    };\r\n\r\n    const getApiUrl = () => {\r\n      const fromDateString = getTimestampToLoadDataFrom().toLocaleString(\"sv-SE\").split(\" \")[0];\r\n      let url = `https://thingproxy.freeboard.io/fetch/https://www.vattenfall.se/api/price/spot/pricearea/${fromDateString}/2050-01-01/${area}`;\r\n      return url;\r\n    };\r\n\r\n    const getTimestampToLoadDataFrom = () => {\r\n      let fromDate = new Date();\r\n      fromDate.setDate(fromDate.getDate() - 1);\r\n      return fromDate;\r\n    };\r\n\r\n    getDataFromApi();\r\n    const interval = setInterval(() => getDataFromApi(), refreshInterval);\r\n    return () => clearInterval(interval);\r\n  }, [refreshInterval, props, area]);\r\n\r\n  useEffect(() => {\r\n    setCurrentHour(getCurrentHour());\r\n    const interval = setInterval(() => setCurrentHour(getCurrentHour()), 60 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  function getCurrentHour() {\r\n    const now = new Date();\r\n    const currentDateString = now.toLocaleString(\"sv-SE\").substring(0, 14) + \"00:00\";\r\n    const timeStampFull = currentDateString.replace(\" \", \"T\");\r\n    const timeStampShort = currentDateString.substring(0, 16);\r\n    const day = currentDateString.substring(0, 10);\r\n    const hour = currentDateString.substring(11, 16);\r\n\r\n    return { timeStampFull, timeStampShort, day, hour };\r\n  }\r\n\r\n  function setData(data) {\r\n    const filteredData = data.slice(-48);\r\n\r\n    const mappedData = filteredData.map((data) => ({\r\n      timeStamp: data.TimeStamp,\r\n      timeStampDay: data.TimeStampDay,\r\n      timeStampHour: data.TimeStampHour,\r\n      value: data.Value,\r\n      unit: data.Unit,\r\n    }));\r\n    setSpotPricesData(mappedData);\r\n\r\n    const mappedGraphData = mappedData.map((data) => ({\r\n      timeStamp: data.timeStampDay + \" \" + data.timeStampHour,\r\n      value: Math.round(data.value, 0) / 100,\r\n    }));\r\n    setSpotPricesGraphData(mappedGraphData);\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-div\">Error: {error.message ?? error}</div>;\r\n  } else if (!isLoaded) {\r\n    return <div>Loading...</div>;\r\n  } else {\r\n    let dataPresentation;\r\n    if (props.match.path === \"/table/:priceArea\") dataPresentation = <SpotPriceList data={spotPricesData} />;\r\n    else if (props.match.path === \"/graph/:priceArea\") {\r\n      dataPresentation = <SpotPriceGraph data={spotPricesGraphData} currentHour={currentHour} />;\r\n    }\r\n    return (\r\n      <>\r\n        <h2>Aktuella spotpriser {area}</h2>\r\n        {dataPresentation}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import \"../css/app.css\";\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport SpotPricesContainer from \"./spotPricesContainer\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route path=\"/table/:priceArea\" component={SpotPricesContainer} />\r\n        <Route path=\"/graph/:priceArea\" component={SpotPricesContainer} />\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/graph/sn3\" />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <div className=\"error-div\">Page not found</div>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/app\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}